```{r, include=FALSE}
library(dplyr)
```


```{r, echo=FALSE, message=FALSE}
#Anni: this is a dataset that using function find_movie to search movie info
#using imdb ids from bechdel data

bechdel_data_raw <- read.csv("./bechdel_data/movies.csv", stringsAsFactors = FALSE)
source("./script/find_movie.R")
imdb_id <- bechdel_data_raw$imdb
years <- unique(bechdel_data_raw$year)
#for (year_given in years) {
  sample <- filter(bechdel_data_raw, year == 2013)
  for (id in sample$imdb) {
    if (!exists("result_table")) {
      result_table <- find_movie(sample$imdb[1])
    } else {
      result_table <- merge(result_table, find_movie(id), all = TRUE)
      result_table[is.na(result_table)] <- 0
    }
  }
  assign(paste(2013, "table"), result_table)
#}


```